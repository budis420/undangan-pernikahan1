<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Undangan Pernikahan</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Poppins&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css" />

  <!-- Open Graph Preview -->
  <meta property="og:title" content="Undangan Pernikahan - Muh Amin Syarif & Sarina" />
  <meta property="og:description" content="Dengan memohon rahmat dan ridho Allah SWT, kami mengundang Anda untuk hadir di acara pernikahan kami." />
  <meta property="og:image" content="https://budis420.github.io/undangan-pernikahan/assets/images/thumbnail.jpg" />
  <meta property="og:url" content="https://budis420.github.io/undangan-pernikahan/" />
  <meta property="og:type" content="website" />
</head>
<body>

<!-- Hero -->
<section class="hero-text">
  <div class="container">
    <h1>Pernikahan</h1>
    <h2>Muh Amin Syarif & Sarina</h2>

    <p id="salam-tamu" class="salam-tamu"></p>

    <p>Tanpa mengurangi rasa hormat,<br/>Kami mengundang Bapak/Ibu/Saudara/i untuk hadir di acara Pernikahan Kami.</p>
    <div class="tanggal">06 . 07 . 2025</div>
  </div>
</section>

<!-- Ayat dan Acara -->
<section class="acara">
  <h2>Petunjuk & Acara</h2>
  <p class="ayat">
    "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri,
    agar kamu merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang.
    Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir."
    <br><strong>- QS. Ar-Rum: 21 -</strong>
  </p>

  <div class="box-acara">
    <p><strong>Minggu, 06 Juli 2025</strong></p>
    <p>09.00 WITA s/d Selesai</p>
    <p>Akad Nikah</p>
    <p><strong>Rumah Calon Mempelai Wanita</strong><br/>
      Jalan Poros Lancibung, Kabupaten Sinjai, Sulawesi Selatan</p>
    <a href="https://maps.app.goo.gl/fvXJdoDjskaxeQqu8?g_st=ipc" target="_blank" class="btn-maps">📍 Lihat Lokasi di Google Maps</a>
  </div>
</section>

<!-- Tanda Kasih -->
<section class="tanda-kasih">
  <h2>Tanda Kasih</h2>
  <p>
    Doa restu keluarga, sahabat, serta rekan-rekan semua di pernikahan kami sudah sangat cukup sebagai hadiah.
    Tetapi jika memberi merupakan tanda kasih, kami dengan senang hati menerimanya dan tentunya semakin melengkapi kebahagiaan kami.
  </p>

  <div class="rekening">
    <h3>a/n Muh Amin Syarif - BNI<br>1929074084</h3>
    <button onclick="copyToClipboard('1929074084')">Salin</button>
    <hr />
    <h3>a/n Sarina - BNI<br>1886423442</h3>
    <button onclick="copyToClipboard('1886423442')">Salin</button>
  </div>
</section>

<!-- Musik -->
<audio id="bg-music" src="assets/music/Bermuara.mp3" preload="none" loop></audio>

<!-- Ikon Musik -->
<div id="music-icon" onclick="toggleMusic()" style="cursor: pointer;">
  <img src="assets/images/pa.png" alt="Music" />
</div>

<!-- Petunjuk -->
<div id="tap-to-play" class="tap-hint">
  👆 Ketuk untuk memutar musik
</div>

<!-- Script -->
<script>
  const music = document.getElementById('bg-music');
  const icon = document.getElementById('music-icon');
  const tapHint = document.getElementById('tap-to-play');
  let isPlaying = false;

  function toggleMusic() {
    if (!isPlaying) {
      music.play().then(() => {
        isPlaying = true;
        icon.classList.add('playing');
        tapHint.style.display = 'none';
      }).catch((e) => {
        console.log("Gagal memutar musik:", e);
      });
    } else {
      music.pause();
      isPlaying = false;
      icon.classList.remove('playing');
      tapHint.style.display = 'block';
    }
  }

  function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
      alert("Nomor rekening disalin: " + text);
    }).catch(err => {
      console.error("Gagal menyalin: ", err);
    });
  }

  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  document.addEventListener("DOMContentLoaded", () => {
    const namaTamu = getQueryParam("to");
    if (namaTamu) {
      const salam = document.getElementById("salam-tamu");
      salam.innerText = `Yth. Bapak/Ibu ${decodeURIComponent(namaTamu)}`;
    }

    // Mulai musik saat user klik pertama kali di layar (selain tombol)
    function allowPlayOnce() {
      if (!isPlaying) {
        music.play().then(() => {
          isPlaying = true;
          icon.classList.add('playing');
          tapHint.style.display = 'none';
        }).catch(() => {
          console.log("Perlu klik ikon untuk memutar.");
        });
      }
      document.removeEventListener("click", allowPlayOnce);
    }

    document.addEventListener("click", allowPlayOnce);
  });
</script>

</body>
</html>
